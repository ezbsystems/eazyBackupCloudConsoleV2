<!-- Top bar -->
<header class="sticky top-0 z-40 border-b border-muted/60 dark:border-slate-900/70 header-glass backdrop-blur">
	<div class="container flex items-center justify-between gap-4 py-3">
		<!-- Left: logo + mobile menu -->
		<div class="flex items-center gap-3">
			<button
				type="button"
				class="inline-flex h-10 w-10 items-center justify-center rounded-full border border-muted hover:border-slate-400 md:hidden"
				@click="$store.ui.mobileNavOpen = true"
				aria-label="Open navigation"
			>
				<!-- Hamburger icon -->
				<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="h-5 w-5">
					<path d="M3.75 6.75h16.5a.75.75 0 0 0 0-1.5H3.75a.75.75 0 0 0 0 1.5Zm16.5 5.25H3.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5Zm0 6H3.75a.75.75 0 0 0 0 1.5h16.5a.75.75 0 0 0 0-1.5Z" />
				</svg>
			</button>
			<a href="/" class="inline-flex items-center gap-2">
				<img x-show="$store.ui.isDark" src="/assets/images/e3-logo.svg" alt="e3" class="h-8 w-auto" />
				<img x-show="!$store.ui.isDark" src="/assets/images/eazybackup-e3-logo-standard.svg" alt="e3" class="h-8 w-auto" />
				<span class="sr-only">e3 Object Storage</span>
			</a>
		</div>

		<!-- Center: primary navigation (desktop) -->
		<nav class="hidden lg:flex items-center gap-1 lg:gap-2 text-sm" aria-label="Primary">
			<a
				href="/#hero"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#hero';
					} else {
						$store.ui.scrollTo('hero');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'hero' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'hero'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Overview</a>
			<a
				href="/#users"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#users';
					} else {
						$store.ui.scrollTo('users');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'users' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'users'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Multi-User Storage</a>
			<a
				href="/#products"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#products';
					} else {
						$store.ui.scrollTo('products');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'products' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'products'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Why e3</a>
			<a
				href="/#pricing-details"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#pricing-details';
					} else {
						$store.ui.scrollTo('pricing-details');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'pricing-details' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'pricing-details'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Pricing</a>
			<!-- Company dropdown -->
			<div class="relative" x-data="{ companyOpen: false }" @keydown.escape.window="companyOpen = false">
				<button
					type="button"
					@click="companyOpen = !companyOpen"
					:aria-expanded="companyOpen.toString()"
					aria-haspopup="menu"
					class="px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap flex items-center gap-1"
				>
					Company
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-4 w-4" :class="companyOpen ? 'rotate-180' : ''">
						<path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
					</svg>
				</button>
				<div
					x-show="companyOpen"
					x-transition
					x-cloak
					@click.outside="companyOpen = false"
					class="absolute top-full left-0 mt-1 w-48 rounded-lg border border-muted bg-surface-2 shadow-xl p-2 z-50"
					role="menu"
					aria-label="Company menu"
				>
					<a href="/company/" class="block rounded-md px-3 py-2 text-sm text-muted-foreground hover:bg-surface hover:text-primary" role="menuitem">About eazyBackup</a>
					<a href="/#contact" class="block rounded-md px-3 py-2 text-sm text-muted-foreground hover:bg-surface hover:text-primary" role="menuitem">Contact</a>
					<a href="#" class="block rounded-md px-3 py-2 text-sm text-muted-foreground hover:bg-surface hover:text-primary" role="menuitem">Support</a>
				</div>
			</div>
			<a
				href="/pricing-lab/"
				:aria-current="window.location.pathname === '/pricing-lab/' || window.location.pathname === '/pricing-lab/index.html' ? 'page' : null"
				:class="window.location.pathname === '/pricing-lab/' || window.location.pathname === '/pricing-lab/index.html'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Pricing Lab</a>
			<a
				href="/#contact"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#contact';
					} else {
						$store.ui.scrollTo('contact');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'contact' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'contact'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Contact</a>
		</nav>

		<!-- Right: actions -->
		<div class="flex items-center gap-2">
			<button
				type="button"
				@click="$store.ui.toggleTheme()"
				class="inline-flex items-center justify-center h-10 w-10 rounded-full border border-muted hover:border-slate-400"
			>
				<span class="sr-only">Toggle theme</span>
				<!-- Sun when dark -->
				<span x-show="$store.ui.isDark" aria-hidden="true">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5">
					  <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
					</svg>
				</span>
				<!-- Moon when light -->
				<span x-show="!$store.ui.isDark" aria-hidden="true">
					<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-5 w-5">
					  <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
					</svg>
				</span>
			</button>
			<a
				href="tel:18889692016"
				class="inline-flex items-center gap-2 rounded-full border border-muted px-4 py-3 text-xs hover:border-slate-400 hover:bg-surface focus:outline-none focus:ring-1 focus:ring-sky-400/70 whitespace-nowrap"
				aria-label="Call 1 888 969 2016"
			>
				<img src="/assets/images/contact_icon.svg" alt="" class="h-4 w-4" aria-hidden="true" />
				<span class="hidden sm:inline">1&nbsp;888&nbsp;969&nbsp;2016</span>
				<span class="sm:hidden">Call</span>
			</a>
			<a href="https://accounts.eazybackup.ca/index.php?m=cloudstorage&page=handlesignup" class="btn-outline tw-hover-gradient-outline hidden sm:inline-flex whitespace-nowrap">
				Start trial
			</a>
		</div>
	</div>
	<!-- Mobile primary navigation (now inside sticky header) -->
	<div class="container hidden md:block lg:hidden">
		<nav class="flex items-center gap-1 overflow-x-auto py-2 -mx-2 px-2 text-sm" aria-label="Primary">
			<a
				href="/#hero"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#hero';
					} else {
						$store.ui.scrollTo('hero');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'hero' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'hero'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Overview</a>
			<a
				href="/#users"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#users';
					} else {
						$store.ui.scrollTo('users');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'users' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'users'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Multi-User Storage</a>
			<a
				href="/#products"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#products';
					} else {
						$store.ui.scrollTo('products');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'products' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'products'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Why e3</a>
			<a
				href="/#pricing-details"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#pricing-details';
					} else {
						$store.ui.scrollTo('pricing-details');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'pricing-details' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'pricing-details'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Pricing</a>
			<!-- Company dropdown -->
			<div class="relative" x-data="{ companyOpen: false }" @keydown.escape.window="companyOpen = false">
				<button
					type="button"
					@click="companyOpen = !companyOpen"
					:aria-expanded="companyOpen.toString()"
					aria-haspopup="menu"
					class="px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap flex items-center gap-1"
				>
					Company
					<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="h-4 w-4" :class="companyOpen ? 'rotate-180' : ''">
						<path fill-rule="evenodd" d="M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z" clip-rule="evenodd" />
					</svg>
				</button>
				<div
					x-show="companyOpen"
					x-transition
					x-cloak
					@click.outside="companyOpen = false"
					class="absolute top-full left-0 mt-1 w-48 rounded-lg border border-muted bg-surface-2 shadow-xl p-2 z-50"
					role="menu"
					aria-label="Company menu"
				>
					<a href="/company/" class="block rounded-md px-3 py-2 text-sm text-muted-foreground hover:bg-surface hover:text-primary" role="menuitem">About eazyBackup</a>
					<a href="/#contact" class="block rounded-md px-3 py-2 text-sm text-muted-foreground hover:bg-surface hover:text-primary" role="menuitem">Contact</a>
					<a href="#" class="block rounded-md px-3 py-2 text-sm text-muted-foreground hover:bg-surface hover:text-primary" role="menuitem">Support</a>
				</div>
			</div>
			<a
				href="/pricing-lab/"
				:aria-current="window.location.pathname === '/pricing-lab/' || window.location.pathname === '/pricing-lab/index.html' ? 'page' : null"
				:class="window.location.pathname === '/pricing-lab/' || window.location.pathname === '/pricing-lab/index.html'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Pricing Lab</a>
			<a
				href="/#contact"
				@click.prevent="
					if (window.location.pathname !== '/' && window.location.pathname !== '/index.html') {
						window.location.href = '/#contact';
					} else {
						$store.ui.scrollTo('contact');
					}
				"
				:aria-current="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'contact' ? 'page' : null"
				:class="(window.location.pathname === '/' || window.location.pathname === '/index.html') && $store.ui.activeSection === 'contact'
					? 'px-3 py-2 rounded-lg font-semibold text-slate-800 dark:text-slate-100 whitespace-nowrap'
					: 'px-3 py-2 rounded-lg font-medium text-slate-600 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-100 whitespace-nowrap'"
			>Contact</a>
		</nav>
	</div>
</header>

<!-- Mobile primary navigation was moved inside the sticky header above -->

